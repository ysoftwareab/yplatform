--- bootstrap/brew-util/homebrew-install.sh
+++ bootstrap/brew-util/homebrew-install.sh.original
@@ -47,7 +47,6 @@
   fi
   HOMEBREW_CACHE="${HOME}/Library/Caches/Homebrew"
 
-  STAT="/usr/bin/stat"
   STAT_FLAG="-f"
   PERMISSION_FORMAT="%A"
   CHOWN="/usr/sbin/chown"
@@ -62,7 +61,6 @@
   HOMEBREW_PREFIX_DEFAULT="/home/linuxbrew/.linuxbrew"
   HOMEBREW_CACHE="${HOME}/.cache/Homebrew"
 
-  STAT="/bin/stat"
   STAT_FLAG="--printf"
   PERMISSION_FORMAT="%a"
   CHOWN="/bin/chown"
@@ -266,7 +264,7 @@
 }
 
 get_permission() {
-  "${STAT}" "${STAT_FLAG}" "${PERMISSION_FORMAT}" "$1"
+  stat "${STAT_FLAG}" "${PERMISSION_FORMAT}" "$1"
 }
 
 user_only_chmod() {
@@ -278,7 +276,7 @@
 }
 
 get_owner() {
-  "${STAT}" "${STAT_FLAG}" "%u" "$1"
+  stat "${STAT_FLAG}" "%u" "$1"
 }
 
 file_not_owned() {
@@ -286,7 +284,7 @@
 }
 
 get_group() {
-  "${STAT}" "${STAT_FLAG}" "%g" "$1"
+  stat "${STAT_FLAG}" "%g" "$1"
 }
 
 file_not_grpowned() {
@@ -525,10 +523,19 @@
     abort "Homebrew is only supported on Intel and ARM processors!"
   fi
 else
-  # On Linux, support 64-bit Intel and ARM
-  if [[ "${UNAME_MACHINE}" != "aarch64" ]] && [[ "${UNAME_MACHINE}" != "arm64" ]] && [[ "${UNAME_MACHINE}" != "x86_64" ]]
+  # On Linux, support only 64-bit Intel
+  if [[ "${UNAME_MACHINE}" == "arm64" ]]
   then
-    abort "Homebrew is only supported on Intel and ARM processors!"
+    abort "$(
+      cat <<EOABORT
+Homebrew on Linux is not supported on ARM processors.
+You can try an alternate installation method instead:
+  ${tty_underline}https://docs.brew.sh/Homebrew-on-Linux#arm${tty_reset}
+EOABORT
+    )"
+  elif [[ "${UNAME_MACHINE}" != "x86_64" ]]
+  then
+    abort "Homebrew on Linux is only supported on Intel processors!"
   fi
 fi
 
@@ -863,7 +870,7 @@
   execute "git" "fetch" "--force" "origin"
   execute "git" "fetch" "--force" "--tags" "origin"
 
-  execute "git" "reset" "--hard" "${HOMEBREW_BREW_GIT_REF:-origin/master}"
+  execute "git" "reset" "--hard" "origin/master"
 
   if [[ "${HOMEBREW_REPOSITORY}" != "${HOMEBREW_PREFIX}" ]]
   then
@@ -888,7 +895,7 @@
       execute "git" "config" "core.autocrlf" "false"
       execute "git" "fetch" "--force" "origin" "refs/heads/master:refs/remotes/origin/master"
       execute "git" "remote" "set-head" "origin" "--auto" >/dev/null
-      execute "git" "reset" "--hard" "${HOMEBREW_CORE_GIT_REF:-origin/master}"
+      execute "git" "reset" "--hard" "origin/master"
 
       cd "${HOMEBREW_REPOSITORY}" >/dev/null || return
     ) || exit 1
